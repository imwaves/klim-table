{"mappings":"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","sources":["node_modules/@swc/helpers/src/_array_with_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_rest.mjs","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_sliced_to_array.mjs","utils.js","app.js"],"sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export function createEl (tag, props, children) {\n  const $el = document.createElement(tag);\n  if (props)\n    Object.entries(props).forEach(([name, val]) => {\n      if (name === 'style')\n        return Object.assign($el.style, val);\n      $el[name] = val;\n    });\n\n  if (children) {\n    if (Array.isArray(children))\n      children.forEach($child => $el.append($child));\n    else if (typeof children === 'string' || typeof children === 'number')\n      $el.textContent = children;\n  }\n  return $el;\n}\n\nconst SI_PREFIX = ['', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\nexport function SI (int, maximumFractionDigits = 1) {\n  int = Number(int);\n  for (var i = 0, nat = int; i < SI_PREFIX.length - 1; i++) {\n    nat = int / 1000;\n    if (nat < 1)\n      break;\n    int = nat;\n  }\n  int = int < 10 ? int.toLocaleString('en-GB', { maximumFractionDigits }) : Math.round(int);\n  return `${ int }${ SI_PREFIX[i] }`;\n}\n\nexport function number (v, fract = 2) {\n  return v.toLocaleString('en-GB', { maximumFractionDigits: fract }).replace(/,/g, ' ');\n}","import { createEl, SI, number } from './utils.js';\n\nimport './Table.css';\n\nconst $input = document.querySelector('#file');\n\n$input.addEventListener('change', e => {\n  const file = $input.files[0];\n  const fileName = file.name.replace('.csv', '');\n  $root.querySelector('header span').textContent = fileName;\n  document.title = `Custom Report: ${fileName}`;\n  const reader = new FileReader();\n  $input.style.display = 'none';\n  reader.onload = () => onLoad(reader.result);\n  reader.onerror = e => alert(e);\n  reader.readAsText(file);\n});\n\nconst LINK = 0,\n  NAME = 1,\n  ICON = 2,\n  AFFINITY = 3,\n  INF_POWER = 4,\n  VIEWS = 5,\n  USERS = 6,\n  AGE = 7,\n  GENDER = 8;\n\nconst CELL_ORDER = [\n  NAME,\n  AFFINITY,\n  INF_POWER,\n  VIEWS,\n  USERS,\n  AGE,\n  GENDER,\n];\n\nconst NUMBER_CELLS = [\n  AFFINITY,\n  INF_POWER,\n  VIEWS,\n  USERS,\n];\n\nconst STAT_CELLS = [AGE, GENDER];\n\nconst $root = document.querySelector('#root');\n\nfunction onLoad (data) {\n  const lines = data.split(/\\r\\n/).map(line => {\n    return line.split(',');\n  });\n\n  const head = lines[0];\n  const rows = lines.slice(1, 101);\n\n  const $table = renderTable({ head, rows });\n  $table.classList.add('Table');\n\n  $root.append($table);\n}\n\nfunction renderTable ({ head, rows }) {\n  return createEl('table', { cellSpacing: 10 }, [\n    createEl(\n      'thead',\n      null,\n      CELL_ORDER.map(field =>\n        createEl('th', null, head[field])\n      ),\n    ),\n\n    createEl('tbody', null,\n      rows.map((row, ri) => {\n        if (!row)\n          return null;\n        return createEl('tr', null,\n          CELL_ORDER.map((field, fi) => {\n            const cell = row[field];\n\n            if (field === NAME) {\n              return createEl('td', null, [\n                createEl('div', null, [\n                  createEl('img', {\n                    src: row[ICON],\n                    lazy: 'lazy',\n                  }),\n                  createEl('span', null, cell),\n                  createEl('a', {\n                    href: row[LINK],\n                    target: '_blank',\n                  }, 'Youtube link'),\n                ])\n              ])\n            }\n\n            if (NUMBER_CELLS.includes(field)) {\n              return createEl('td', { className: '--number' }, SI(+cell))\n            }\n\n            if (STAT_CELLS.includes(field)) {\n              const stats = cell.replace(/^\"|\"$/g, '')\n                .split('\\n').map(stat => {\n                  const [ name, value ] = stat.split(' : ');\n                  return { name, value };\n                });\n\n              if (!stats?.[0].name?.length)\n                return createEl('td');\n\n              if (field === AGE) {\n                stats.sort((a, b) => {\n                  const aa = a.name.charAt(0);\n                  const bb = b.name.charAt(0);\n                  return aa < bb ? -1 : aa == bb ? 0 : 1;\n                })\n              }\n\n              return createEl('td', { className: '--stats' }, [\n                createEl('dl', null,\n                  stats.reduce((acc, stat) => {\n                      acc.push(createEl('dt', null, stat.name));\n                      acc.push(createEl('dd', null, stat.value));\n                      return acc;\n                    },\n                    [],\n                  ),\n                )\n              ]);\n            }\n\n            return createEl('td', null, cell)\n          })\n        )\n      }),\n    ),\n  ]);\n}"],"names":["$4a9727f2d5d0beb7$export$2e2bcd8739ae039","arr","Array","isArray","$99aec6ef8f88b3a0$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$6b57b6e23d278133$export$2e2bcd8739ae039","TypeError","$a2a704fd1558b867$export$2e2bcd8739ae039","len","length","i","arr2","$a1e66265f49c2d22$export$2e2bcd8739ae039","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","$69ad9b3eca14f96a$export$2e2bcd8739ae039","$1b80b4237d85e1d1$export$3d7cd8ed57263b30","tag","props","children","$el","document","createElement","entries","forEach","param","_param","val","assign","style","$child","append","textContent","$1b80b4237d85e1d1$var$SI_PREFIX","$aecea0d07019f2a8$var$$input","querySelector","addEventListener","e1","file","files","fileName","replace","$aecea0d07019f2a8$var$$root","title","concat","reader","FileReader","display","onload","data","result","lines","split","map","line","head","rows","$table","cellSpacing","$aecea0d07019f2a8$var$CELL_ORDER","field","row","ri","fi","cell","src","lazy","href","target","$aecea0d07019f2a8$var$NUMBER_CELLS","includes","className","int","maximumFractionDigits","arguments","nat","Number","toLocaleString","Math","round","$aecea0d07019f2a8$var$STAT_CELLS","stats","stat","ref","value","ref1","sort","a","b","aa","charAt","bb","reduce","acc","push","$aecea0d07019f2a8$var$renderTable","classList","add","onerror","e","alert","readAsText"],"version":3,"file":"index.78bd679b.js.map"}